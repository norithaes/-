
#include <stdio.h>
#include <stdlib.h>

#define MAX_ITEMS 100

typedef struct {
    int id;
    int hv[MAX_ITEMS];
    int by[MAX_ITEMS];
    int stock[MAX_ITEMS];
} UserData;

UserData* users = NULL;
int user_count = 0;
int n;

void ob();
void id(); // 함수 선언 변경

int main() {
    char con;

    while (1) {
        printf("기록(y): ");
        scanf_s("%c", &con, 1);
        getchar();

        if (con == 'Y' || con == 'y') {
            users = (UserData*)realloc(users, (user_count + 1) * sizeof(UserData));

            ob();
            id(); // 함수 호출 변경
            user_count++;
            continue;
        }
        else {
            break;
        }
    }

    free(users);
    users = NULL;
    return 0;
}

void ob() {
    printf("상품 개수(종류) 입력\n");
    scanf_s("%d", &n);
    getchar();

    printf("ID 입력: ");
    scanf_s("%d", &users[user_count].id);
    getchar();

    printf("상품 별 입고수량 입력\n");
    for (int i = 0; i < n; i++) {
        scanf_s("%d", &users[user_count].hv[i]);
    }
    getchar();

    printf("상품 별 판매수량 입력\n");
    for (int i = 0; i < n; i++) {
        scanf_s("%d", &users[user_count].by[i]);
    }
    getchar();
}

void id() { // 함수 정의 변경
    printf("ID %d의 재고: ", users[user_count].id);
    for (int i = 0; i < n; i++) {
        users[user_count].stock[i] = users[user_count].hv[i] - users[user_count].by[i];
        if (users[user_count].stock[i] < 0) {
            users[user_count].stock[i] = 0;
        }
        printf("%d ", users[user_count].stock[i]);
    }
    printf("\n");
}
